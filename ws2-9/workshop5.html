<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Workshop 5</title>
        <link rel="stylesheet" href="css/styles.css">
        <!--Did put this shopping.js here as place seems to be more logical and there isn't
        (at least yet) any script which needs to have page loaded before script.-->
        <script src="js/shopping.js"></script>
    </head>
    <body>
        <h1>Workshop 5: Smart Forms</h1>
        <hr />
        <p>In this exercise we will practice the art of DOM Scripting with JavaScript. Use the lecture-material as a reference guide side by side these exercises. It might also be a good idea to save the lines of code you write during the exercises for later use. </p>

        <hr/>
        <h2>Exercise 1: Contact Form</h2>
        <p data-line="4">Below you see a simple contact form which has fields for email address and comments.</p>
        <p data-line="6">a&rpar; Write JavaScript code which checks the input fields when the form submit-button is clicked. Display the entered values with alert -dialogs. Use onsubmit-event on the form tag. Make sure that your code cancels the submission of the form if needed. Hint: See the PowerPoint -slides. <br> <strong>Done: checks both input fields in in any case, gives textual errors after input fields and changes input field's background to light red. Red background color changes back to white when input fields are clicked again and previous textual error is cleared on resubmit, in case that another input box's input is still erroneous.</strong></p>
        <p data-line="8">b&rpar; Enhance the code and write if-statements to check the following: the length of email address should be atleast 6 and less than 15. It should also have a  @ - character. Check also that the comment field is not be empty and the content should be trimmed down to 50 characters. Utilize JavaScript <a href="http://www.w3schools.com/js/js_string_methods.asp" target="_blank">String-methods</a>. <br><strong>Done: Obeys given parameters, splice used. Comment field's contents will be cut silently, without easy change for user to fix after hitting submit.</strong></p>
        <p data-line="12">c&rpar; Should an error occur, highlight the erroneous field and provide some feedback to the user. Preferably by displaying some text message on the page, next to the   input field. See the lecture slides for demo. <br> <strong>Done as explained in part A.</strong></p>
        <form onsubmit="checkexc1_s1(0)">
            <div class="no-border">
                <label>Email address:<br>
                    <input type="text" name="email" onclick="exc1_towhite('email')">
                </label>
                <div id="emailerroroutput0" class="ws5form_errormsgs"></div>
            </div>
            <div class="no-border">
                <label>
                    Comment:<br>
                </label>
                <textarea name="comment" onclick="exc1_towhite('comment')"></textarea>
                <div id="commenterroroutput0" class="ws5form_errormsgs"></div>
            </div>
            <br>
            <!--SUBMIT BUTTON:-->
            <input type="submit" value="Send">
        </form>
 
        <hr/>
        <h2>Exercise 2: Membership Calculator</h2>
        <p data-line="16">Below there is a membership calculator form. It has 3 fields: Membership Type (pulldown), Years (input) and Costs (input). User can use the pulldown to   select which plan user wants to choose (Basic = 10€, Premium=15€,   Gold=20€) and then enter the number of years he wants to pay for.</p>
        <p data-line="20">Update the code of the form so that:</p>
        <p data-line="20">a&rpar; the Costs-field should display the total costs of the subscription<strong> Done, calculates only when pressing a button. Would be easy made update automatically.</strong></p>
        <p data-line="22">b&rpar; If the user chooses to pay for more than 2 years, he will get a 20% discount. Notify the user when   he is eligible to get the discount, by showing a text next to form.<strong> Done</strong></p>
        <p data-line="24">c&rpar; Should he pay for 5 years or more, he will get the normal 20% discount, but will also be given an extra 5€ discount with a special greetings text on screen.<strong> Done, with bit frugal greetings.</strong></p>
        <form action="#" method="post" id="theForm" onsubmit="doform2()">
            <fieldset>
                <legend>Create Your Membership</legend>
                <p>Complete this form to calculate your membership. There's a 20% discount if you enroll for more than one year!</p>
                <div>
                    <label for="type">Type</label> 
                    <select name="type" id="type" size="4" required>
                        <option value=0>Basic - $10.00</option>
                        <option value=1>Premium - $15.00</option>
                        <option value=2>Gold - $20.00</option>
                        <option value=3>Platinum - $25.00</option>
                    </select>
                </div>
                <div>
                    <label for="years">Years</label>
                    <input type="number" name="years" id="years" min="1" onChange="checkEligibility()" required> <span id="exc2Years" class="ws5form_errormsgs"></span>
                </div>
                <div>
                    <label for="cost">Cost</label>
                    <input type="text" name="cost" id="cost" disabled>
                </div>
                <button type="button" onclick="doform2()">Calculate without submitting.</button>
                <input type="submit" value="Calculate (Original button)" id="submit">
          </fieldset>
        </form>
            
        <p data-line="20">&nbsp;</p>
        <hr/>
        <h2>Exercise 3: Book Order</h2>
        <p data-line="27">In many cases, developer has to maintain and develop code written by someone else. Look at the HTML code and JavaScript code below. Study how does it work and what is the logic behind it. <strong> Didn't find any javascript from html and shopping.js was basically empty.</strong></p>
        <p data-line="29">Then add following features to the code:</p>
        <p data-line="31">a&rpar; the values read from the text   boxes are stored as strings. Modify the code to store the quantity as an integer and the price, tax and discount as floats.<strong>Done: parseInt's and parseFloats in use.</strong></p>
        <p data-line="33">b&rpar; modify the JS code to double the discount applied when the quantity ordered is greater than 100 items<strong>Done.</strong></p>
        <p data-line="35">c&rpar; modify the HTML form to include a shipping field, and include this value in the total calculation in shopping.js.<strong>Done.</strong></p>
        <p>&nbsp;</p>
        <fieldset>
            <p>Calculate a bulk book order.</p>
            <p>Shipping not included in discount.</p>
            <table>
                <tr>
                    <div>
                        <td>
                            <label for="quantity">Quantity</label>
                        </td>
                        <td>
                            <input type="number" name="quantity" id="quantity" value="1" min="1" required>
                        </td>
                    </div>
                </tr>
                <tr>
                    <div>
                        <td>
                            <label for="price">Price Per Unit</label>
                        </td>
                        <td>
                            <input type="text" name="price" id="price" value="1.00" required>
                        </td>
                    </div>
                </tr>
                <tr>
                    <div>
                        <td>
                            <label for="tax">VAT (%)</label>
                        </td>
                        <td>
                            <input type="text" name="tax" id="tax" value="0.0" required>
                        </td>
                    </div>
                </tr>
                <tr>
                    <div>
                        <td>
                            <label for="discount">Discount(%)</label>
                        </td>
                        <td>
                            <input type="text" name="discount" id="discount" value="0.00" required>
                        </td>
                    </div>
                </tr>
                <tr>
                    <div>
                        <td>
                            <label for="shipping">Shipping</label>
                        </td>
                        <td>
                            <select name="shipping" id="shipping" size="4" required>
                                <option value=0>Standard - $30.00</option>
                                <option value=1>Express - $45.00</option>
                                <option value=2>Flexible - $55.00</option>
                                <option value=3>Ultrafast - $85.00</option>
                            </select>
                        </td>
                    </div>
                </tr>
                <tr>
                    <div>
                        <td>
                        <label for="total">Total</label>
                        </td>
                        <td>
                        <input type="text" name="total" id="total" value="0.00">
                        </td>
                    </div>
                </tr>
                <tr>
                    <div>
                        <td></td><td>
                            <input type="submit" value="Calculate" id="submit-calculate" onClick="calculate()">
                        </td>
                    </div>
                </tr>
            </table>
          
        </fieldset>

        <hr/>
        <h2>Exercise 4: Hidden Extra fields</h2>
        <ul>
            <li>In PowerPoint-slides you were   shown a demo of a form where some extra fields were hidden and they turned visible after certain events occurred.
                <p data-line="41">Copy the the contact form   created in Exercise 1 and edit it. Add select boxes to the form where user   can choose a preferred way of contact. There should be atleast email and   phone and sms available. </p>
                <p data-line="41">After choosing the box, the user is shown an   input field which asks detailed information regarding on the selected   contact method.</p>
                <strong>Done: Implemented separate options for SMS and CALL, call/sms boxes have error checking which enforces character limit and that there's only digits in these boxes. This form uses same checking functions as exercise 1 form, but i have added such feature to it, that if it's requested to check this form, it goes thru number checking function first and if that number checking function fails, it disables "greenlight" for last comment checking function thus blocking submission of form.</strong>
          </li>
        </ul>
        <form onsubmit="checkexc1_s1(2)">
            <div class="no-border">
                <label>Email address:<br>
                    <input type="text" name="email" onclick="exc1_towhite('email2')">
                </label>
                <div id="emailerroroutput2" class="ws5form_errormsgs"></div>
            </div>
            <div class="no-border">
                <label>
                    Comment:<br>
                </label>
                <textarea name="comment" onclick="exc1_towhite('comment2')"></textarea>
                <div id="commenterroroutput2" class="ws5form_errormsgs"></div>
            </div>
            <!--Alkuperäinen lomake loppuu tähän.-->
            <legend>Select preferred contact method:</legend>
            <div>
              <input type="radio" id="sms_radio" name="contactmethod" value="sms" onchange="exc4showhide(this);return false;"/>
              <label for="sms">SMS</label>
            </div>
            <div id="smsinput">
                <label>Number for SMS messages: (5-10 numbers)<br>
                    <input type="text" id="smsnumberinputfield" name="smsnumber" onclick="exc1_towhite('smsnumber')">
                </label>
                <div id="smserroroutput2" class="ws5form_errormsgs"></div>
            </div>
            <div>
              <input type="radio" id="call_radio" name="contactmethod" value="call" onchange="exc4showhide(this);return false;"/>
              <label for="call">Call</label>
            </div>
            <div id="callinput">
                <label>Number for calls: (5-10 numbers)<br>
                    <input type="text" id="callnumberinputfield" name="callnumber" onclick="exc1_towhite('callnumber')">
                </label>
                <div id="callerroroutput2" class="ws5form_errormsgs"></div>
            </div>
            <div>
              <input type="radio" id="email_radio" name="contactmethod" value="email" checked onchange="exc4showhide(this);return false;"/>
              <label for="email">Email only</label>
            </div>
            <!--SUBMIT BUTTON:-->
            <input type="submit" value="Send">
        </form>
    </body>
</html>